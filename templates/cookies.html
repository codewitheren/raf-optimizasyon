{% extends "base.html" %}

{% block title %}Çerez Politikası - SmartStore AI{% endblock %}

{% block breadcrumb_current %}Çerez Politikası{% endblock %}

{% block content %}
<div class="container page-container">
    <div class="page-header-section">
        <h1 class="page-title">🍪 Çerez Politikası</h1>
        <p class="page-subtitle">Web sitemizde kullanılan çerezler hakkında bilgiler</p>
    </div>

    <div class="page-content-section">
        <div class="content-grid">
            <div class="content-main">
                <section class="content-section">
                    <h2>Çerez Nedir?</h2>
                    <p>Çerezler, web sitelerinin tarayıcınızda sakladığı küçük metin dosyalarıdır. Bu dosyalar, site deneyiminizi iyileştirmek, performansı artırmak ve istatistiksel veriler toplamak için kullanılır.</p>
                    
                    <div class="info-box">
                        <h4>💡 Önemli Bilgi</h4>
                        <p>Çerezler kişisel dosyalarınıza erişemez, virüs taşıyamaz veya zararlı program çalıştıramaz. Tamamen güvenlidir.</p>
                    </div>
                </section>

                <section class="content-section">
                    <h2>Kullandığımız Çerez Türleri</h2>
                    
                    <div class="cookie-types">
                        <div class="cookie-type">
                            <h3>🔧 Zorunlu Çerezler</h3>
                            <p><strong>Amaç:</strong> Sitenin temel fonksiyonlarının çalışması</p>
                            <p><strong>Süre:</strong> Oturum süresi veya 30 gün</p>
                            <div class="cookie-details">
                                <h4>Örnekler:</h4>
                                <ul>
                                    <li><code>session_id</code> - Oturum takibi</li>
                                    <li><code>csrf_token</code> - Güvenlik token'ı</li>
                                    <li><code>user_preferences</code> - Kullanıcı tercihleri</li>
                                </ul>
                            </div>
                        </div>

                        <div class="cookie-type">
                            <h3>📊 Analitik Çerezler</h3>
                            <p><strong>Amaç:</strong> Site kullanımının analiz edilmesi</p>
                            <p><strong>Süre:</strong> 13 ay</p>
                            <div class="cookie-details">
                                <h4>Örnekler:</h4>
                                <ul>
                                    <li><code>_ga</code> - Google Analytics</li>
                                    <li><code>_gid</code> - Google Analytics</li>
                                    <li><code>_gat</code> - Google Analytics</li>
                                </ul>
                            </div>
                        </div>

                        <div class="cookie-type">
                            <h3>🎯 Fonksiyonel Çerezler</h3>
                            <p><strong>Amaç:</strong> Gelişmiş özellikler ve kişiselleştirme</p>
                            <p><strong>Süre:</strong> 1 yıl</p>
                            <div class="cookie-details">
                                <h4>Örnekler:</h4>
                                <ul>
                                    <li><code>theme_preference</code> - Tema tercihi</li>
                                    <li><code>language</code> - Dil ayarı</li>
                                    <li><code>last_upload</code> - Son yükleme bilgisi</li>
                                </ul>
                            </div>
                        </div>

                        <div class="cookie-type">
                            <h3>🎪 Performans Çerezler</h3>
                            <p><strong>Amaç:</strong> Site performansının optimize edilmesi</p>
                            <p><strong>Süre:</strong> 30 gün</p>
                            <div class="cookie-details">
                                <h4>Örnekler:</h4>
                                <ul>
                                    <li><code>page_load_time</code> - Sayfa yükleme süresi</li>
                                    <li><code>api_response_time</code> - API yanıt süresi</li>
                                    <li><code>feature_usage</code> - Özellik kullanım istatistikleri</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="content-section">
                    <h2>Üçüncü Taraf Çerezler</h2>
                    <div class="third-party-cookies">
                        <div class="third-party">
                            <h3>Google Analytics</h3>
                            <p><strong>Amaç:</strong> Site trafiği ve kullanıcı davranışı analizi</p>
                            <p><strong>Veri Paylaşımı:</strong> Anonim istatistiksel veriler</p>
                            <p><strong>Opt-out:</strong> <a href="https://tools.google.com/dlpage/gaoptout" target="_blank">Google Analytics Opt-out</a></p>
                        </div>

                        <div class="third-party">
                            <h3>Cloudflare</h3>
                            <p><strong>Amaç:</strong> CDN ve güvenlik hizmetleri</p>
                            <p><strong>Çerez:</strong> <code>__cflb</code>, <code>__cf_bm</code></p>
                            <p><strong>Süre:</strong> 30 dakika - 1 gün</p>
                        </div>
                    </div>
                </section>

                <section class="content-section">
                    <h2>Çerez Yönetimi</h2>
                    <h3>Tarayıcı Ayarları</h3>
                    <p>Çerezleri tarayıcı ayarlarından yönetebilirsiniz:</p>
                    
                    <div class="browser-instructions">
                        <div class="browser-item">
                            <h4>🌐 Chrome</h4>
                            <p>Ayarlar → Gizlilik ve güvenlik → Çerezler ve diğer site verileri</p>
                        </div>
                        <div class="browser-item">
                            <h4>🦊 Firefox</h4>
                            <p>Seçenekler → Gizlilik ve Güvenlik → Çerezler ve Site Verileri</p>
                        </div>
                        <div class="browser-item">
                            <h4>🔍 Safari</h4>
                            <p>Tercihler → Gizlilik → Çerezler ve web sitesi verileri</p>
                        </div>
                        <div class="browser-item">
                            <h4>📘 Edge</h4>
                            <p>Ayarlar → Çerezler ve site izinleri</p>
                        </div>
                    </div>

                    <h3>Çerez Tercih Merkezi</h3>
                    <div class="cookie-preferences">
                        <div class="preference-item">
                            <h4>Zorunlu Çerezler</h4>
                            <p>Bu çerezler site işlevselliği için gereklidir ve devre dışı bırakılamaz.</p>
                            <div class="toggle-switch">
                                <input type="checkbox" checked disabled>
                                <span class="slider"></span>
                            </div>
                        </div>
                        <div class="preference-item">
                            <h4>Analitik Çerezler</h4>
                            <p>Site kullanımını anlamamıza yardımcı olan istatistiksel çerezler.</p>
                            <div class="toggle-switch">
                                <input type="checkbox" id="analytics-cookies">
                                <span class="slider"></span>
                            </div>
                        </div>
                        <div class="preference-item">
                            <h4>Fonksiyonel Çerezler</h4>
                            <p>Gelişmiş özellikler ve kişiselleştirme için kullanılan çerezler.</p>
                            <div class="toggle-switch">
                                <input type="checkbox" id="functional-cookies">
                                <span class="slider"></span>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="content-section">
                    <h2>Çerez Süresi ve Saklanma</h2>
                    <div class="cookie-duration">
                        <h3>Oturum Çerezleri</h3>
                        <p>Tarayıcı kapatıldığında otomatik olarak silinir</p>

                        <h3>Kalıcı Çerezler</h3>
                        <ul>
                            <li><strong>Kısa vadeli:</strong> 30 dakika - 24 saat</li>
                            <li><strong>Orta vadeli:</strong> 30 gün</li>
                            <li><strong>Uzun vadeli:</strong> 1 - 2 yıl</li>
                        </ul>

                        <h3>Otomatik Temizlik</h3>
                        <p>Süresi dolan çerezler otomatik olarak silinir.</p>
                    </div>
                </section>

                <section class="content-section">
                    <h2>KVKK ve GDPR Uyumluluğu</h2>
                    <div class="compliance-info">
                        <h3>📋 Yasal Dayanak</h3>
                        <ul>
                            <li>Meşru menfaat (zorunlu çerezler)</li>
                            <li>Açık rıza (analitik çerezler)</li>
                            <li>Sözleşmenin ifası (fonksiyonel çerezler)</li>
                        </ul>

                        <h3>🛡️ Veri Koruması</h3>
                        <ul>
                            <li>Çerezler kişisel veri içermez</li>
                            <li>IP adresleri anonimleştirilir</li>
                            <li>Veriler şifrelenerek iletilir</li>
                            <li>Düzenli güvenlik denetimleri yapılır</li>
                        </ul>
                    </div>
                </section>

                <section class="content-section">
                    <h2>Kullanıcı Hakları</h2>
                    <h3>Rıza Geri Alma</h3>
                    <p>Çerez kullanımına verdiğiniz rızayı istediğiniz zaman geri alabilirsiniz.</p>

                    <h3>Veri Silme</h3>
                    <p>Tarayıcınızdan mevcut çerezleri manuel olarak silebilirsiniz.</p>

                    <h3>Bilgi Alma</h3>
                    <p>Hangi çerezlerin kullanıldığını istediğiniz zaman öğrenebilirsiniz.</p>
                </section>

                <section class="content-section">
                    <h2>İletişim</h2>
                    <p>Çerez politikamız hakkında sorularınız için:</p>
                    <div class="contact-info">
                        <p>📧 E-posta: <a href="mailto:privacy@smartstore.ai">privacy@smartstore.ai</a></p>
                        <p>📞 Telefon: +90 (212) 000-0000</p>
                        <p>📍 Adres: İstanbul Teknik Üniversitesi, Maslak, İstanbul</p>
                    </div>
                </section>

                <section class="content-section">
                    <h2>Politika Güncellemeleri</h2>
                    <p>Bu çerez politikası gerektiğinde güncellenebilir. Önemli değişiklikler site üzerinden duyurulacaktır.</p>
                    <p><strong>Son Güncelleme:</strong> 25 Mayıs 2025</p>
                </section>
            </div>

            <div class="content-sidebar">
                <div class="sidebar-card">
                    <h3>Hızlı Erişim</h3>
                    <ul class="sidebar-links">
                        <li><a href="#çerez-nedir">Çerez Nedir?</a></li>
                        <li><a href="#çerez-türleri">Çerez Türleri</a></li>
                        <li><a href="#çerez-yönetimi">Çerez Yönetimi</a></li>
                        <li><a href="#kullanıcı-hakları">Kullanıcı Hakları</a></li>
                    </ul>
                </div>

                <div class="sidebar-card">
                    <h3>İlgili Dökümanlar</h3>
                    <div class="related-links">
                        <p><a href="/privacy">🔒 Gizlilik Politikası</a></p>
                        <p><a href="/terms">📜 Kullanım Şartları</a></p>
                        <p><a href="/contact">📞 İletişim</a></p>
                    </div>
                </div>

                <div class="sidebar-card">
                    <h3>Çerez Araçları</h3>
                    <div class="cookie-tools">
                        <button class="tool-btn" onclick="clearAllCookies()">🗑️ Tüm Çerezleri Temizle</button>
                        <button class="tool-btn" onclick="showCookieList()">📋 Mevcut Çerezleri Göster</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
function clearAllCookies() {
    if (confirm('Tüm çerezleri silmek istediğinizden emin misiniz? Bu işlem oturumunuzu sonlandırabilir.')) {
        document.cookie.split(";").forEach(function(c) { 
            document.cookie = c.replace(/^ +/, "").replace(/=.*/, "=;expires=" + new Date().toUTCString() + ";path=/"); 
        });
        alert('Çerezler temizlendi. Sayfa yeniden yüklenecek.');
        location.reload();
    }
}

function showCookieList() {
    const cookies = document.cookie.split(';').map(cookie => cookie.trim()).filter(cookie => cookie);
    if (cookies.length === 0) {
        alert('Şu anda hiç çerez bulunmuyor.');
    } else {
        const cookieList = cookies.map(cookie => {
            const [name, value] = cookie.split('=');
            return `• ${name}: ${value ? value.substring(0, 20) + '...' : 'boş'}`;
        }).join('\n');
        alert(`Mevcut çerezler:\n\n${cookieList}`);
    }
}

// Cookie preference toggles
document.addEventListener('DOMContentLoaded', function() {
    const analyticsToggle = document.getElementById('analytics-cookies');
    const functionalToggle = document.getElementById('functional-cookies');
    
    if (analyticsToggle) {
        analyticsToggle.addEventListener('change', function() {
            if (this.checked) {
                console.log('Analytics cookies enabled');
                // Enable analytics tracking
            } else {
                console.log('Analytics cookies disabled');
                // Disable analytics tracking
            }
        });
    }
    
    if (functionalToggle) {
        functionalToggle.addEventListener('change', function() {
            if (this.checked) {
                console.log('Functional cookies enabled');
                // Enable functional features
            } else {
                console.log('Functional cookies disabled');
                // Disable functional features
            }
        });
    }
});
</script>
{% endblock %}

{% block extra_css %}
<style>
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 34px;
}

.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 34px;
}

.slider:before {
    position: absolute;
    content: "";
    height: 26px;
    width: 26px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}

input:checked + .slider {
    background-color: #667eea;
}

input:checked + .slider:before {
    transform: translateX(26px);
}

input:disabled + .slider {
    background-color: #999;
    cursor: not-allowed;
}

.preference-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    margin-bottom: 10px;
}

.preference-item h4 {
    margin: 0 0 5px 0;
    color: #333;
}

.preference-item p {
    margin: 0;
    color: #666;
    font-size: 0.9rem;
}

.tool-btn {
    width: 100%;
    padding: 10px;
    margin: 5px 0;
    border: 1px solid #667eea;
    background: white;
    color: #667eea;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.tool-btn:hover {
    background: #667eea;
    color: white;
}
</style>
{% endblock %}